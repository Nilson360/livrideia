<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Livridea{% endblock %}</title>
    <link rel="icon" href="{{ 'images/default.png' }}">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}
</head>
<body class="bg-white font-serif text-[#333333] min-h-screen flex flex-col"
      data-user-id="{{ app.user ? app.user.id : '' }}">
{# Header (avec logo et icônes) #}
<header class="p-4 border-b border-gray-200 bg-white flex justify-between items-center">
    {# Logo Livridea #}
    <a href="{{ path('app_home') }}" class="text-[#FF8A00] text-xl font-bold">
        Livridea
    </a>

    {# Icônes à droite #}
    <div class="flex items-center space-x-4">
        {# Icône recherche #}
        <a href="{{ path('app_search') }}">
            <svg class="w-6 h-6 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
        </a>

        {# Icône messagerie #}
        <a href="{{ path('app_chat') }}">
            <svg class="w-6 h-6 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.77 9.77 0 01-4.29-1L3 20l1.3-3.9C3.45 14.73 3 13.2 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
            </svg>
        </a>

        {# Avatar utilisateur #}
        <a href="{{ path('dashboard_user_profile') }}" class="w-8 h-8 rounded-full overflow-hidden">
            <img src="{{ asset(app.user.avatarPath|default('/images/default-profile.png')) }}"
                 alt="Profile"
                 class="w-full h-full object-cover">
        </a>
    </div>
</header>

{# Contenu principal #}
<div class="flex-grow pb-16">
    {% block content %}{% endblock %}
</div>

{# Barre de navigation du bas #}
<nav class="fixed bottom-0 left-0 right-0 bg-white border-t py-2">
    <div class="flex justify-around items-center">
        {# Accueil #}
        <a href="{{ path('app_home') }}" class="flex flex-col items-center text-[#FF8A00]">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            <span class="text-xs">Page d'accueil</span>
        </a>

        {# Profil #}
        <a href="{{ path('dashboard_user_profile') }}" class="flex flex-col items-center text-gray-400">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <span class="text-xs">Profil</span>
        </a>

        {# Notifications #}
        <a href="{{ path('notifications_list') }}" class="flex flex-col items-center text-gray-400">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
            </svg>
            <span class="text-xs">Notifications</span>
        </a>

        {# Menu #}
        <a href="{{ path('app_menu') }}" class="flex flex-col items-center text-gray-400">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
            </svg>
            <span class="text-xs">Menu</span>
        </a>
    </div>
</nav>

{% block javascripts %}
    {{ encore_entry_script_tags('app') }}
{% endblock %}
</body>
</html>